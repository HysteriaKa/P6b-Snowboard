{% extends 'base.html.twig' %}

{% block title %}Edit {{ trick.name }} trick!{% endblock %}

{% block body %}


<h1 class="center mab-2 mat-2">Edit {{ trick.name }}</h1>
<div>
    <hero style="background-image:url({{ asset('/uploads/' ~ trick.onTopPic) }})">
        {% if app.user and app.user.isVerified %}
        <h1 class="center">{{ trick.name }}</h1>
        <i class="fas fa-pencil-alt mar-2" onclick="showHideImageUploader()"></i>

        <form method="post" action="{{ path('app_OnTopPic_delete', {'id': trick.id}) }}"
            onsubmit="return confirm('Are you sure you want to delete this amazing picture?');">
            <input type="hidden" name="_method" value="DELETE">
            <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ trick.id) }}">
            <button class="fas"><i class="fas fa-trash-alt mr-2"></i></button>
        </form>
        {% endif %}
    </hero>
</div>
<div class="center">{{ form_start(form) }}
    <div class="center d-flex column mab-2 mat-1 hidden">
        {{ form_label(form.OnTopPic) }}
        {{ form_widget(form.OnTopPic) }}
    </div>
    <div class="center d-flex column mab-2 mat-1">
        {{ form_label(form.name) }}
        {{ form_widget(form.name) }}
    </div>
    <div class="center d-flex column mab-2 mat-1">
        {{ form_label(form.description) }}
        {{ form_widget(form.description) }}
    </div>
    <div class="center d-flex column mab-2 mat-1">
        {{ form_label(form.slug) }}
        {{ form_widget(form.slug) }}
    </div>
    <div class="center d-flex column mab-2 mat-1">
        {{ form_label(form.category) }}
        {{ form_widget(form.category) }}
    </div>
    <div class="center d-flex column mab-2 mat-1">
        {{ form_label(form.videoLink) }}
        {{ form_widget(form.videoLink) }}
    </div>
    <div class="center d-flex column mab-2 mat-1">
        {{ form_label(form.media) }}
        {{ form_widget(form.media) }}
    </div>
    <div>
        {{ form_widget(form.Save) }}
        {{ form_end(form) }}

        <form method="post" action="{{ path('app_trick_delete', {'id': trick.id}) }}"
            onsubmit="return confirm('Are you sure you want to delete this amazing trick?');">
            <input type="hidden" name="_method" value="DELETE">
            <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ trick.id) }}">
            <button class="btn-danger">Delete</button>
        </form>
    </div>
</div>
{% endblock %}

{% block javascripts %}
<script>
    function showHideImageUploader() {
        document.getElementsByClassName("center d-flex column mab-2 mat-1")[0].classList.toggle("hidden");
    }
</script>
{% endblock %}